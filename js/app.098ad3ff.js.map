{"version":3,"file":"js/app.098ad3ff.js","mappings":"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","sources":["webpack://oslab_2/./src/App.vue","webpack://oslab_2/./src/scripts/LRUCache.js","webpack://oslab_2/./src/components/HomeView.vue","webpack://oslab_2/./src/components/HomeView.vue?f8ae","webpack://oslab_2/./src/App.vue?7ccd","webpack://oslab_2/./src/main.js","webpack://oslab_2/webpack/bootstrap","webpack://oslab_2/webpack/runtime/chunk loaded","webpack://oslab_2/webpack/runtime/compat get default export","webpack://oslab_2/webpack/runtime/define property getters","webpack://oslab_2/webpack/runtime/global","webpack://oslab_2/webpack/runtime/hasOwnProperty shorthand","webpack://oslab_2/webpack/runtime/make namespace object","webpack://oslab_2/webpack/runtime/jsonp chunk loading","webpack://oslab_2/webpack/startup"],"sourcesContent":["<template>\n  <a-page-header style=\"border: 1px solid rgb(235, 237, 240)\" title=\"内存管理项目\" sub-title=\"同济大学软件学院 张靖凯 2455650395@qq.com\" />\n  <HomeView />\n</template>\n\n<script>\nimport HomeView from './components/HomeView.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    HomeView,\n  }\n}\n</script>\n\n<style></style>\n","class Node {\r\n  constructor(page, value) {\r\n    this.page = page;\r\n    this.value = value;\r\n    this.prev = null;\r\n    this.next = null;\r\n  }\r\n}\r\n\r\nexport default {\r\n  LRUCache: class LRUCache {\r\n    constructor(capacity) {\r\n      this.capacity = capacity;\r\n      this.cache = new Map();\r\n      this.head = null;\r\n      this.tail = null;\r\n    }\r\n\r\n    get(page) {\r\n      if (!this.cache.has(page)) {\r\n        return -1;\r\n      }\r\n      const node = this.cache.get(page);\r\n      this.moveToHead(node);\r\n      return node.value;\r\n    }\r\n\r\n    put(page, value) {\r\n      if (this.cache.has(page)) {\r\n        const node = this.cache.get(page);\r\n        node.value = value;\r\n        this.moveToHead(node);\r\n      } else {\r\n        const node = new Node(page, value);\r\n        if (this.cache.size >= this.capacity) {\r\n          this.removeTail();\r\n        }\r\n        if (!this.head) {\r\n          this.head = node;\r\n          this.tail = node;\r\n        } else {\r\n          node.next = this.head;\r\n          this.head.prev = node;\r\n          this.head = node;\r\n        }\r\n        this.cache.set(page, node);\r\n      }\r\n    }\r\n\r\n    moveToHead(node) {\r\n      if (node === this.head) {\r\n        return;\r\n      } else if (node === this.tail) {\r\n        this.tail = node.prev;\r\n        this.tail.next = null;\r\n      } else {\r\n        node.prev.next = node.next;\r\n        node.next.prev = node.prev;\r\n      }\r\n      node.next = this.head;\r\n      this.head.prev = node;\r\n      node.prev = null;\r\n      this.head = node;\r\n    }\r\n\r\n    removeTail() {\r\n      if (!this.tail) {\r\n        return;\r\n      }\r\n      this.cache.delete(this.tail.page);\r\n      if (this.head === this.tail) {\r\n        this.head = null;\r\n        this.tail = null;\r\n      } else {\r\n        this.tail = this.tail.prev;\r\n        this.tail.next = null;\r\n      }\r\n    }\r\n\r\n    getHead() {\r\n      return this.head;\r\n    }\r\n\r\n    getTail() {\r\n      return this.tail;\r\n    }\r\n  },\r\n\r\n  linklist: class linklist {\r\n    constructor() {\r\n      this.item = 0; //头结点显示当前列表长度\r\n      this.next = null;\r\n    }\r\n    length() {\r\n      return this.item;\r\n    }\r\n    //在链表末尾添加结点\r\n    append(item) {\r\n      let cur_p = this;\r\n      while (cur_p.next != null) {\r\n        cur_p = cur_p.next;\r\n      }\r\n      //此时到达最后一个结点中\r\n      cur_p.next = new linklist();\r\n      cur_p.next.item = item;\r\n      this.item++; //链表长度+1\r\n    }\r\n    //删除链表末尾结点——返回被删除的结点的内容\r\n    deleteLast() {\r\n      if (this.length() == 0) {\r\n        return;\r\n      }\r\n      let cur_p = this;\r\n      while (cur_p.next.next != null) {\r\n        cur_p = cur_p.next;\r\n      }\r\n      //此时到达倒数第二个结点\r\n      let item_delete = cur_p.next.item;\r\n      cur_p.next = null;\r\n      this.item--;\r\n      return item_delete;\r\n    }\r\n    //寻找元素是否在链表中，若存在则返回相应位置（头结点位置为0），若不存在则返回-1\r\n    findIndex(item) {\r\n      let cur_p = this.next;\r\n      for (let i = 1; cur_p != null; ++i) {\r\n        if (cur_p.item == item) {\r\n          return i;\r\n        }\r\n        cur_p = cur_p.next;\r\n      }\r\n      return -1;\r\n    }\r\n    //将指定位置元素移至链表头（头结点后第一个）——成功返回true，失败返回false\r\n    movetoHead(index) {\r\n      if (index > this.length() || index == 0) {\r\n        return false;\r\n      }\r\n      let cur_p = this;\r\n      for (let i = 0; i < index - 1; i++) {\r\n        cur_p = cur_p.next;\r\n      }\r\n      //此时到达要移动的结点的前一个结点处\r\n      let tem = cur_p.next; //要移动的结点\r\n      cur_p.next = tem.next;\r\n      tem.next = this.next;\r\n      this.next = tem;\r\n      return true;\r\n    }\r\n    //在链表首位插入元素\r\n    insertHead(item) {\r\n      let tmp = this.next;\r\n      this.next = new linklist();\r\n      this.next.item = item;\r\n      this.next.next = tmp;\r\n      this.item++;\r\n    }\r\n  },\r\n};\r\n","<template>\r\n    <a-layout>\r\n        <a-layout-header class=\"a-layout-header\" :style=\"{ background: '#fff' }\">\r\n            <p style=\"font-size: 22px;\"><b>请求调页存储管理方式模拟</b></p>\r\n        </a-layout-header>\r\n    </a-layout>\r\n    <a-layout has-sider>\r\n        <a-layout-sider :style=\"{ overflow: 'auto', height: '100vh', position: 'sticky' }\" theme=\"light\" width=\"400px\">\r\n            <a-row justify=\"center\">\r\n                <a-col :span=\"24\" style=\"text-align: center;\">\r\n                    <a-button type=\"primary\" @click=\"nextStep\">\r\n                        单步执行\r\n                    </a-button>\r\n                </a-col>\r\n            </a-row>\r\n            <a-row justify=\"center\" style=\"margin-top: 10px;\">\r\n                <a-col :span=\"24\" style=\"text-align: center;\">\r\n                    <p><b>Memory</b></p>\r\n                </a-col>\r\n            </a-row>\r\n            <a-row justify=\"center\">\r\n                <a-col :span=\"24\" style=\"text-align: center;\" v-for=\"memory_block in memory\" :key=\"memory_block.id\">\r\n                    <label class=\"view-button-label\">{{ memory_block.id }}</label>\r\n                    <a-button class=\"view-button\" type=\"dashed\" disabled ghost>{{ memory_block.content }}</a-button>\r\n                    <label class=\"view-button-label\">address: {{ memory_block.address }}</label>\r\n                </a-col>\r\n            </a-row>\r\n\r\n            <a-row justify=\"center\">\r\n                <a-col style=\"text-align: center;\" :span=\"8\">\r\n                    <p><b>已执行条数</b></p>\r\n                </a-col>\r\n                <a-col style=\"text-align: center;\" :span=\"8\">\r\n                    <p><b>缺页数</b></p>\r\n                </a-col>\r\n                <a-col style=\"text-align: center;\" :span=\"8\">\r\n                    <p><b>缺页率</b></p>\r\n                </a-col>\r\n            </a-row>\r\n            <a-row justify=\"center\">\r\n                <a-col style=\"text-align: center;\" :span=\"8\">\r\n                    <p><b>{{ exeNum }}</b></p>\r\n                </a-col>\r\n                <a-col style=\"text-align: center;\" :span=\"8\">\r\n                    <p><b>{{ pageMiss }}</b></p>\r\n                </a-col>\r\n                <a-col style=\"text-align: center;\" :span=\"8\">\r\n                    <p><b>{{ missRate }} </b></p>\r\n                </a-col>\r\n            </a-row>\r\n            <a-row>\r\n                <a-col :span=\"24\">\r\n                    <a-table :columns=\"leftColumns\" :data-source=\"leftData\" bordered>\r\n                        <template #bodyCell=\"{ column, text }\">\r\n                            <!-- // column是什么 -->\r\n                            <template v-if=\"column.dataIndex === 'name'\">\r\n                                <a>{{ text }}</a>\r\n                            </template>\r\n                        </template>\r\n                    </a-table>\r\n                </a-col>\r\n            </a-row>\r\n        </a-layout-sider>\r\n\r\n        <a-layout>\r\n\r\n            <a-layout-content :style=\"{ margin: '24px 16px 0', overflow: 'initial' }\">\r\n                <div :style=\"{ padding: '24px', background: '#fff', textAlign: 'center' }\">\r\n                    <a-row>\r\n                        <a-col :span=\"24\">\r\n                            <a-table :columns=\"rightColumns\" :data-source=\"rightData\" bordered>\r\n                                <template #bodyCell=\"{ column, text }\">\r\n                                    <!-- // column是什么 -->\r\n                                    <template v-if=\"column.dataIndex === 'name'\">\r\n                                        <a>{{ text }}</a>\r\n                                    </template>\r\n                                </template>\r\n                            </a-table>\r\n                        </a-col>\r\n                    </a-row>\r\n                </div>\r\n            </a-layout-content>\r\n            <a-layout-footer :style=\"{ textAlign: 'center' }\">\r\n                2023 Created by Jingkai Zhang\r\n            </a-layout-footer>\r\n        </a-layout>\r\n    </a-layout>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onBeforeMount, computed } from 'vue';\r\nimport linklist from '../scripts/LRUCache'\r\n\r\n// 数据结构\r\nlet exeNum = ref(0);\r\nlet pageMiss = ref(0);\r\nlet lruCache = new linklist.linklist();\r\n\r\nconst memoryBlockNum = 4;\r\nconst PageTableNum = 32; // 页表数\r\nconst instructionNum = 320;\r\nlet memory = ref([]);\r\nlet pageTable = ref([]); // 页表\r\nlet exeOrder = ref([]); // 指令执行顺序\r\nlet instructionRecord = ref([]);\r\n\r\nlet missRate = computed(() => {\r\n    if (exeNum.value === 0) {\r\n        return 0 + \"%\";\r\n    }\r\n    else {\r\n        return ((pageMiss.value / exeNum.value) * 100).toFixed(2) + \"%\";\r\n    }\r\n});\r\n\r\n// 表格\r\nconst leftColumns = ref([\r\n    {\r\n        title: \"调入逻辑页\",\r\n        dataIndex: \"pageId\",\r\n    },\r\n    {\r\n        title: \"调至内存块\",\r\n        dataIndex: \"block\",\r\n    },\r\n    {\r\n        title: \"调出逻辑页\",\r\n        dataIndex: \"pageOut\",\r\n    },\r\n]);\r\nlet leftData = ref([]);\r\n\r\nconst rightColumns = ref([\r\n    {\r\n        title: \"指令ID\",\r\n        dataIndex: \"instructionId\",\r\n    },\r\n    {\r\n        title: \"逻辑页号\",\r\n        dataIndex: \"pageId\",\r\n    },\r\n    {\r\n        title: \"所在内存块号\",\r\n        dataIndex: \"inMemory\",\r\n    },\r\n    {\r\n        title: \"所在内存地址\",\r\n        dataIndex: \"address\",\r\n    },\r\n    {\r\n        title: \"下一条指令ID\",\r\n        dataIndex: \"nextInstructionId\",\r\n    },\r\n]);\r\nlet rightData = ref([]);\r\n\r\n// 函数\r\n\r\n\r\nconst memoryInit = () => {\r\n    for (let i = 0; i < memoryBlockNum; i++) {\r\n        memory.value.push({\r\n            id: i,\r\n            address: i + \"0\",\r\n            length: 10,\r\n            content: \"null\"\r\n        });\r\n    }\r\n}\r\n\r\nconst pageTableInit = () => {\r\n    for (let i = 0; i < PageTableNum; i++) {\r\n        pageTable.value.push({\r\n            id: i,\r\n            valid: false,\r\n            memoryId: null\r\n        });\r\n    }\r\n}\r\n\r\nconst orderInit = () => {\r\n    let randomOrder = Math.floor(Math.random() * (instructionNum - 1));\r\n    let i = 0;\r\n    exeOrder.value.push(randomOrder);\r\n    i++;\r\n    exeOrder.value.push(randomOrder + 1);\r\n    i++;\r\n    // console.log(exeOrder.value);\r\n    while (i < instructionNum) {\r\n        randomOrder = Math.floor(Math.random() * randomOrder);\r\n        exeOrder.value.push(randomOrder);\r\n        i++;\r\n        if (i === instructionNum) {\r\n            return;\r\n        }\r\n        exeOrder.value.push(randomOrder + 1);\r\n        i++;\r\n        if (i === instructionNum) {\r\n            return;\r\n        }\r\n        randomOrder = Math.floor(Math.random() * (instructionNum - randomOrder - 4) + randomOrder + 2); //跳转至后 m+2 - 319\r\n        exeOrder.value.push(randomOrder);\r\n        i++;\r\n        if (i === instructionNum) {\r\n            return;\r\n        }\r\n        exeOrder.value.push(randomOrder + 1);\r\n        i++;\r\n        if (i === instructionNum) {\r\n            return;\r\n        }\r\n    }\r\n}\r\n\r\nconst instructionRecordUpdate = (instructionId) => {\r\n    let pageId = Math.floor(instructionId / 10);\r\n    let singleRecord;\r\n    if (pageTable.value[pageId].valid == false) {\r\n        singleRecord = {\r\n            instructionId,\r\n            pageId,\r\n            inMemory: \"null\",\r\n            address: \"null\",\r\n            nextInstructionId: exeOrder.value[exeNum.value + 1]\r\n        }\r\n        instructionRecord.value.push(singleRecord);\r\n    }\r\n    else {\r\n        let blockId = pageTable.value[pageId].memoryId;\r\n        let addr = parseInt(memory.value[blockId].address, 10) + (instructionId % 10); // 有问题\r\n        singleRecord = {\r\n            instructionId,\r\n            pageId,\r\n            imMemory: blockId,\r\n            address: addr,\r\n            nextInstructionId: exeOrder.value[exeNum.value + 1]\r\n        }\r\n        instructionRecord.value.push(singleRecord);\r\n    }\r\n    rightData.value.push(singleRecord);\r\n}\r\n\r\n\r\n\r\nconst nextStep = () => {\r\n    let instructionId = exeOrder.value[exeNum.value];\r\n    let pageId = Math.floor(instructionId / 10);\r\n    let page = pageTable.value[pageId];\r\n    let singleRecord;\r\n    // console.log(pageTable.value);\r\n    if (page.valid == false) {\r\n        instructionRecordUpdate(instructionId);\r\n        pageMiss.value += 1;\r\n        // lruCache.put(pageId, pageId);\r\n        singleRecord = LRUToMemory(page);   //\r\n        leftData.value.push(singleRecord);  // \r\n        pageTable.value[pageId].valid = true;\r\n        pageTable.value[pageId].memoryId = singleRecord.block;\r\n        instructionRecordUpdate(instructionId);\r\n        if (singleRecord.pageOut != \"null\") {\r\n            pageTable.value[singleRecord.pageOut].valid = false;\r\n            pageTable.value[singleRecord.pageOut].memoryId = \"null\";\r\n        }\r\n    }\r\n    else {\r\n        lruCache.movetoHead(lruCache.findIndex(page.memory_id));\r\n        instructionRecordUpdate(instructionId);\r\n    }\r\n    exeNum.value += 1;\r\n}\r\n\r\nconst LRUToMemory = (page) => {\r\n    // console.log(lruCache.cache.size);\r\n    if (lruCache.length() < memoryBlockNum) {\r\n        for (let i = 0; i < memoryBlockNum; i++) {\r\n            if (memory.value[i].content == \"null\") {\r\n                memory.value[i].content = page.id;\r\n                lruCache.insertHead(i);\r\n                return {\r\n                    pageId: page.id,\r\n                    block: i,\r\n                    pageOut: \"null\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else { // 内存满了\r\n        // let beforeCacheHeadValue = lruCache.getHead().value;\r\n        // let beforeCacheTailValue = lruCache.getTail().value; // 被调出的页号\r\n        let dst_block_id = lruCache.deleteLast();\r\n        let page_out_id = memory.value[dst_block_id].content;\r\n        memory.value[dst_block_id].content = page.id; //将新页调入\r\n        lruCache.insertHead(dst_block_id);\r\n        return {\r\n            pageId: page.id,\r\n            block: dst_block_id,\r\n            pageOut: page_out_id\r\n        }\r\n    }\r\n}\r\n\r\n// 生命周期钩子\r\nonBeforeMount(() => {\r\n    memoryInit();\r\n    pageTableInit();\r\n    orderInit();\r\n})\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.a-layout-header {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.view-button-label {\r\n    margin: 10px;\r\n}\r\n\r\n.view-button {\r\n    width: 70px;\r\n}\r\n</style>","import script from \"./HomeView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HomeView.vue?vue&type=style&index=0&id=8fcf747e&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\code\\\\OS\\\\oslab_2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8fcf747e\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=6efe4e20\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\code\\\\OS\\\\oslab_2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport ant from \"ant-design-vue\";\nimport \"ant-design-vue/dist/antd.css\";\n\ncreateApp(App).use(ant).mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkoslab_2\"] = self[\"webpackChunkoslab_2\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(5145); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createVNode","_component_a_page_header","style","title","_component_HomeView","Node","constructor","page","value","this","prev","next","LRUCache","capacity","cache","Map","head","tail","get","has","node","moveToHead","put","size","removeTail","set","delete","getHead","getTail","linklist","item","length","append","cur_p","deleteLast","item_delete","findIndex","i","movetoHead","index","tem","insertHead","tmp","memoryBlockNum","PageTableNum","instructionNum","exeNum","ref","pageMiss","lruCache","memory","pageTable","exeOrder","instructionRecord","missRate","computed","toFixed","leftColumns","dataIndex","leftData","rightColumns","rightData","memoryInit","push","id","address","content","pageTableInit","valid","memoryId","orderInit","randomOrder","Math","floor","random","instructionRecordUpdate","instructionId","singleRecord","pageId","inMemory","nextInstructionId","blockId","addr","parseInt","imMemory","nextStep","LRUToMemory","block","pageOut","memory_id","dst_block_id","page_out_id","onBeforeMount","__exports__","name","components","HomeView","render","createApp","App","use","ant","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","key","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}